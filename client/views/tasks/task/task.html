<template name="Task">
    <div class="row">
        {{> TasksSidebar}}

        {{#with task}}
            <div id="dashboard" class="col-xs-12 col-sm-9 col-md-8 col-lg-8">
                <h4>Tarea: {{title}}</h4>

                {{#unless isValidTask}}
                    <div class="alert alert-danger" role="alert">Agregue al menos un caso de prueba para iniciar esta tarea.</div>
                {{/unless}}

                <div class="btn-group" role="group">
                    {{#if project}}
                        <a id="continueProject" class="btn btn-primary" href="{{pathFor 'project' id=project._id}}">Ir al Proyecto</a>
                    {{else}}
                        {{#if isValidTask}}
                            <a id="startProject" class="btn btn-primary">Iniciar Proyecto</a>
                        {{/if}}
                        <a id="addTestCase" class="btn btn-primary" href="{{pathFor 'createTestCase' taskId=_id}}">AÃ±adir caso de prueba</a>
                    {{/if}}
                </div>

                <h4>Descripcion</h4>
                <p>{{{description}}}</p>
                {{#if task.testCases}}
                    <h4>Casos de prueba</h4>
                    {{#each task.testCases}}
                        <p>{{@index}} - {{tag}} - Retroalimentacion: {{feedback}}</p>
                    {{/each}}
                {{/if}}
            </div>
        {{/with}}
    </div>
</template>
